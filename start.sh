#!/bin/bash

# SwapX Bot MVP å¿«é€Ÿå¯åŠ¨è„šæœ¬

echo "======================================"
echo "  SwapX Trading Bot MVP"
echo "  å»ä¸­å¿ƒåŒ–äº¤æ˜“æœºå™¨äºº"
echo "======================================"
echo ""

# æ£€æŸ¥æ˜¯å¦åœ¨æ­£ç¡®çš„ç›®å½•
if [ ! -f "package.json" ]; then
    echo "âŒ é”™è¯¯ï¼šè¯·åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œæ­¤è„šæœ¬"
    exit 1
fi

# æ£€æŸ¥Node.js
if ! command -v node &> /dev/null; then
    echo "âŒ é”™è¯¯ï¼šæœªå®‰è£…Node.jsï¼Œè¯·å…ˆå®‰è£…"
    exit 1
fi

echo "âœ… Node.js ç‰ˆæœ¬: $(node -v)"
echo "âœ… npm ç‰ˆæœ¬: $(npm -v)"
echo ""

# å®‰è£…ä¾èµ–
if [ ! -d "node_modules" ]; then
    echo "ğŸ“¦ æ­£åœ¨å®‰è£…ä¾èµ–..."
    npm install
    echo ""
fi

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
echo "ğŸš€ å¯åŠ¨å¼€å‘æœåŠ¡å™¨..."
echo ""
echo "è®¿é—®åœ°å€: http://localhost:5173"
echo ""
npm run dev
