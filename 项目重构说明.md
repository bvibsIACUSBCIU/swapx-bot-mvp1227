# SwapX Trading Bot v2.0 - 项目重构说明

## 🎉 重大更新

### 架构重构

#### 1. Dashboard - 统一控制中心
**融合原控制台和钱包管理**
- ✅ 钱包导入/断开
- ✅ 实时余额显示（XOC/WXOC/USDT）
- ✅ 交易统计汇总
- ✅ 活跃机器人监控
- ✅ 快速操作入口

#### 2. 策略机器人 - 多实例独立运行
**全新机器人管理系统**
- ✅ 支持创建多个机器人实例
- ✅ 每个机器人独立配置和运行
- ✅ 三种策略类型：低买高卖、DCA定投、网格交易
- ✅ 独立的启停控制
- ✅ 实时运行统计
- ✅ 配置持久化保存

#### 3. 手动交易 - 灵活交易工具
**新增手动交易功能**
- ✅ 实时价格显示
- ✅ 买入/卖出WXOC
- ✅ 滑点设置
- ✅ 交易预览
- ✅ 完整交易流程

#### 4. 代币规范
**明确XOC和WXOC的用途**
- **XOC**: 原生代币，用于支付Gas费
- **WXOC**: ERC20代币，用于实际交易
- **USDT**: 交易对手币

## 📁 新增/修改文件

### 新建组件
1. **Dashboard.jsx** - Dashboard页面，融合钱包管理和统计
2. **BotCard.jsx** - 单个机器人卡片组件
3. **BotManager.jsx** - 机器人管理页面
4. **ManualTrade.jsx** - 手动交易页面

### 修改组件
1. **App.jsx** - 完全重构，新的路由和状态管理
2. **WalletBalance.jsx** - 添加WXOC余额显示
3. **storage.js** - 添加机器人存储函数
4. **swap.js** - 更新为WXOC交易
5. **test-balance.js** - 更新余额测试

## 🎯 核心特性

### 多机器人独立运行
```javascript
// 每个机器人都是独立实例
{
  id: '唯一ID',
  name: '机器人名称',
  type: 'buysell|dca|grid',
  isRunning: true/false,
  config: { 策略配置 },
  stats: { 运行统计 }
}
```

### 策略类型

#### 低买高卖 (Buy-Sell)
- 买入阈值：低于此价格买入
- 卖出阈值：高于此价格卖出
- 交易金额：每次交易的USDT数量
- 检查间隔：价格检查频率

#### 定投策略 (DCA)
- 买入金额：每次买入的USDT数量
- 执行间隔：定投周期
- 总次数：定投次数限制

#### 网格策略 (Grid)
- 网格数量：价格区间分割数
- 价格下限/上限：交易区间
- 单网格金额：每个网格的交易量

### 数据持久化
所有配置和记录保存在localStorage：
- `swapx_wallet`: 钱包信息
- `swapx_bots`: 机器人列表
- `swapx_trades`: 交易记录
- `swapx_logs`: 运行日志

## 🚀 使用指南

### 1. 启动项目
```bash
cd swapx-bot-mvp
npm run dev
```

### 2. 导入钱包
1. 访问 Dashboard 页面
2. 点击"导入钱包"
3. 输入私钥
4. 查看余额和统计

### 3. 创建机器人
1. 进入"策略机器人"页面
2. 点击"添加机器人"
3. 选择策略类型
4. 输入机器人名称（可选）
5. 点击"创建"

### 4. 配置机器人
1. 在机器人卡片中点击"编辑配置"
2. 修改策略参数
3. 点击"保存"

### 5. 启动/停止机器人
- 使用机器人卡片右上角的开关
- 可同时运行多个机器人
- 运行中的机器人不可编辑配置

### 6. 手动交易
1. 进入"手动交易"页面
2. 选择买入/卖出
3. 输入交易金额
4. 设置滑点
5. 确认交易

## 📊 数据统计

### Dashboard统计
- 总交易次数
- 今日交易次数
- 累计盈亏（USDT）
- 成功率
- 活跃机器人数量

### 机器人统计
每个机器人独立统计：
- 总交易次数
- 成功/失败次数
- 交易总额
- 运行时长

## ⚠️ 注意事项

### 余额要求
- **XOC余额**: 足够的Gas费（建议至少0.01 XOC）
- **WXOC余额**: 用于卖出交易
- **USDT余额**: 用于买入交易

### 机器人运行
- 机器人运行时无法修改配置
- 机器人运行时无法删除
- 建议先停止再删除

### 交易安全
- 使用测试钱包进行测试
- 小额测试验证策略
- 注意滑点设置
- 监控Gas费用

## 🔧 技术栈

- **React 18** - UI框架
- **Ant Design** - 组件库
- **ethers.js** - 区块链交互
- **@swapx-lib/sdk** - SwapX协议SDK
- **localStorage** - 数据持久化

## 📝 开发计划

### 待实现功能
- [ ] 机器人自动运行逻辑
- [ ] 实时价格监控
- [ ] 交易执行引擎
- [ ] WebSocket实时更新
- [ ] 交易通知
- [ ] 高级图表统计
- [ ] 策略回测
- [ ] 风险控制

### 优化方向
- [ ] 性能优化
- [ ] 错误处理增强
- [ ] UI/UX改进
- [ ] 移动端适配
- [ ] 国际化支持

## 🎨 界面预览

### Dashboard
- 钱包信息卡片
- 余额显示（3列布局）
- 交易统计（4列布局）
- 快速操作按钮

### 策略机器人
- 机器人卡片网格布局
- 折叠面板显示配置
- 实时状态指示
- 一键启停

### 手动交易
- 实时价格卡片
- 买入/卖出切换
- 交易预览
- 滑点设置

## 📞 支持

如有问题或建议，请查看代码注释或日志输出。

---

**版本**: v2.0  
**更新日期**: 2025-12-27  
**作者**: SwapX Bot Team
